{"id":"5db16a73aad7e300012622e2","name":"mpesa_dev_validation #callback #mpesa","slug":"c2b-validation","listen_port":0,"protocol":"","enable_proxy_protocol":false,"api_id":"mpesa_dev_validation","org_id":"5db0a5500ecce0000117e624","use_keyless":false,"use_oauth2":false,"use_openid":false,"openid_options":{"providers":[],"segregate_by_client":false},"oauth_meta":{"allowed_access_types":[],"allowed_authorize_types":[],"auth_login_redirect":""},"auth":{"use_param":true,"param_name":"auth-token","use_cookie":false,"cookie_name":"","auth_header_name":"Authorization","use_certificate":false,"validate_signature":false,"signature":{"algorithm":"","header":"","secret":"","allowed_clock_skew":0,"error_code":0,"error_message":""}},"use_basic_auth":false,"basic_auth":{"disable_caching":false,"cache_ttl":0,"extract_from_body":false,"body_user_regexp":"","body_password_regexp":""},"use_mutual_tls_auth":false,"client_certificates":[],"upstream_certificates":{},"pinned_public_keys":{},"enable_jwt":false,"use_standard_auth":true,"use_go_plugin_auth":false,"enable_coprocess_auth":false,"jwt_signing_method":"","jwt_source":"","jwt_identity_base_field":"","jwt_client_base_field":"","jwt_policy_field_name":"","jwt_default_policies":[],"jwt_issued_at_validation_skew":0,"jwt_expires_at_validation_skew":0,"jwt_not_before_validation_skew":0,"jwt_skip_kid":false,"jwt_scope_to_policy_mapping":{},"jwt_scope_claim_name":"","notifications":{"shared_secret":"","oauth_on_keychange_url":""},"enable_signature_checking":false,"hmac_allowed_clock_skew":-1,"hmac_allowed_algorithms":[],"request_signing":{"is_enabled":false,"secret":"","key_id":"","algorithm":""},"base_identity_provided_by":"","definition":{"location":"header","key":"x-api-version","strip_path":false},"version_data":{"not_versioned":true,"default_version":"","versions":{"Default":{"name":"Default","expires":"","paths":{"ignored":[],"white_list":[],"black_list":[]},"use_extended_paths":true,"extended_paths":{"transform":[{"template_data":{"input_type":"xml","template_mode":"blob","enable_session":false,"template_source":"e3stICRycXN0cGFyYW1zIDo9IC5FbnZlbG9wZS5Cb2R5LkMyQlBheW1lbnRWYWxpZGF0aW9uUmVxdWVzdCAtfX0Ke3stICRreWMgOj0gICRycXN0cGFyYW1zLktZQ0luZm8gLX19CnsKICAiZGF0YSI6IHsKICAgICJ0eXBlIjogInBheWlucyIsCiAgICAiYXR0cmlidXRlcyI6IHsKICAgICAgInR4bl9pZCI6ICJ7ey0gJHJxc3RwYXJhbXMuVHJhbnNJRCAtfX0iLAogICAgICB7ey0gaWYgJHJxc3RwYXJhbXMuTVNJU0ROfX0KICAgICAgInNlbmRlcl9ubyI6ICJ7ey0gJHJxc3RwYXJhbXMuTVNJU0ROIC19fSIsCiAgICAgICJzZW5kZXJfbmFtZSI6ICJ7e3JhbmdlICRrZXksICR2YWx1ZSA6PSAka3ljfX17e2lmIG5lICRrZXkgMCB9fXt7IiAifX17e2VuZH19e3sgJHZhbHVlLktZQ1ZhbHVlIH19e3tlbmR9fSIsCiAgICAgICJzZW5kZXJfdHlwZSI6ICJtc2lzZG4iLAogICAgICB7ey0gZWxzZSB9fQogICAgICB7eyBpZiAgJHJxc3RwYXJhbXMuU2hvcnRDb2RlIC19fSJzZW5kZXJfbm8iOiAie3stICRycXN0cGFyYW1zLlNob3J0Q29kZSAtfX0iLHt7IGVuZCB9fQogICAgICAic2VuZGVyX25hbWUiOiAie3stICRreWMuS1lDVmFsdWUgLX19IiwKICAgICAgInNlbmRlcl90eXBlIjogInNob3J0Y29kZSIsCiAgICAgIHt7LSBlbmQgfX0KICAgICAgImFtb3VudCI6IHt7ICRycXN0cGFyYW1zLlRyYW5zQW1vdW50fX0sCiAgICAgIHt7aWYgJHJxc3RwYXJhbXMuVHJhbnNUaW1lfX0idHhuX2NyZWF0ZWRfYXQiOiAie3stICRycXN0cGFyYW1zLlRyYW5zVGltZX19IiwKICAgICAge3tlbmQgLX19CiAgICAgIHt7aWYgJHJxc3RwYXJhbXMuQnVzaW5lc3NTaG9ydENvZGV9fSJzaG9ydF9jb2RlIjogInt7LSAkcnFzdHBhcmFtcy5CdXNpbmVzc1Nob3J0Q29kZSAtfX0iLAogICAgICB7eyBlbmQgLX19CiAgICAgIHt7aWYgICRycXN0cGFyYW1zLkJpbGxSZWZOdW1iZXIgIH19InJlZmVyZW5jZSI6ICJ7ey0gJHJxc3RwYXJhbXMuQmlsbFJlZk51bWJlciAtfX0iLAogICAgICB7eyBlbmQgLX19CiAgICAgIHt7LSBpZiAkcnFzdHBhcmFtcy5PcmdBY2NvdW50QmFsYW5jZX19ImJhbGFuY2Vfd29ya2luZ19hYyI6IHt7LSAkcnFzdHBhcmFtcy5PcmdBY2NvdW50QmFsYW5jZSAtfX0sCiAgICAgIHt7IGVuZCAtfX0KICAgICAgImNhdGVnb3J5Ijoge3stIGlmIGVxICRycXN0cGFyYW1zLlRyYW5zVHlwZSAiT3JnYW5pemF0aW9uIFRvIE9yZ2FuaXphdGlvbiBUcmFuc2ZlciIgLX19ICJCMkIiCiAgICAgIHt7LSBlbHNlIGlmIGVxICRycXN0cGFyYW1zLlRyYW5zVHlwZSAiQ3VzdG9tZXIgTWVyY2hhbnQgUGF5bWVudCIgLX19ICJCdXlHb29kcyIKICAgICAge3stIGVsc2UgaWYgZXEgJHJxc3RwYXJhbXMuVHJhbnNUeXBlICJQYXkgQmlsbCIgLX19ICJQYXliaWxsIgogICAgICB7ey0gZW5kIH19CiAgICB9CiAgfQp9"},"path":"/","method":"POST"}],"transform_response":[{"template_data":{"input_type":"json","template_mode":"blob","enable_session":false,"template_source":"PHNvYXBlbnY6RW52ZWxvcGUgeG1sbnM6c29hcGVudj0iaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS8iIAogICAgeG1sbnM6YzJiPSJodHRwOi8vY3BzLmh1YXdlaS5jb20vY3BzaW50ZXJmYWNlL2MyYnBheW1lbnQiPgogICAgPHNvYXBlbnY6SGVhZGVyLz4KICAgIDxzb2FwZW52OkJvZHk+CiAgICAgICAgPGMyYjpDMkJQYXltZW50VmFsaWRhdGlvblJlc3VsdD4KICAgICAgICAgICAge3stIGlmIC5kYXRhLmlkIH19CiAgICAgICAgICAgIDxSZXN1bHRDb2RlPjA8L1Jlc3VsdENvZGU+CiAgICAgICAgICAgIDxSZXN1bHREZXNjPlNlcnZpY2UgcHJvY2Vzc2luZyBzdWNjZXNzZnVsPC9SZXN1bHREZXNjPgogICAgICAgICAgICA8VGhpcmRQYXJ0eVRyYW5zSUQ+e3stIC5kYXRhLmlkIC19fTwvVGhpcmRQYXJ0eVRyYW5zSUQ+CiAgICAgICAgICAgIHt7LSBlbHNlIH19CiAgICAgICAgICAgIHt7LSB3aXRoIC5lcnJvcnMgfX0KICAgICAgICAgICAge3stIHJhbmdlICRrZXksICR2YWx1ZSA6PSAkLmVycm9ycyB9fQogICAgICAgICAgICB7ey0gaWYgYW5kIC5jb2RlIC5kZXRhaWwgfX0KICAgICAgICAgICAgPFJlc3VsdENvZGU+e3skdmFsdWUuY29kZX19PC9SZXN1bHRDb2RlPgogICAgICAgICAgICA8UmVzdWx0RGVzYz57eyR2YWx1ZS5kZXRhaWx9fTwvUmVzdWx0RGVzYz4KICAgICAgICAgICAge3stIGVsc2UgfX0KICAgICAgICAgICAgPFJlc3VsdENvZGU+QzJCMDAwMTY8L1Jlc3VsdENvZGU+CiAgICAgICAgICAgIDxSZXN1bHREZXNjPk90aGVyIEVycm9yPC9SZXN1bHREZXNjPgogICAgICAgICAgICB7ey0gZW5kIH19CiAgICAgICAgICAgIHt7LSBlbmQgfX0KICAgICAgICAgICAge3stIGVsc2UgfX0KICAgICAgICAgICAgPFJlc3VsdENvZGU+QzJCMDAwMTY8L1Jlc3VsdENvZGU+CiAgICAgICAgICAgIDxSZXN1bHREZXNjPk90aGVyIEVycm9yPC9SZXN1bHREZXNjPgogICAgICAgICAgICB7ey0gZW5kIH19CiAgICAgICAgICAgIHt7LSBlbmQgfX0KICAgICAgICA8L2MyYjpDMkJQYXltZW50VmFsaWRhdGlvblJlc3VsdD4KICAgIDwvc29hcGVudjpCb2R5Pgo8L3NvYXBlbnY6RW52ZWxvcGU+"},"path":"/","method":"POST"}],"transform_headers":[{"delete_headers":["content-type"],"add_headers":{"content-type":"application/vnd.api+json"},"path":"/","method":"POST","act_on":false}],"transform_response_headers":[{"delete_headers":["content-type"],"add_headers":{"content-type":"text/xml"},"path":"/","method":"POST","act_on":false}],"url_rewrites":[{"path":"/","method":"POST","match_pattern":"/","rewrite_to":"","triggers":[{"on":"any","options":{"header_matches":{"x-validation-url":{"match_rx":"--","reverse":true}},"query_val_matches":{},"path_part_matches":{},"session_meta_matches":{},"request_context_matches":{},"payload_matches":{"match_rx":"","reverse":false}},"rewrite_to":"$tyk_context.headers_X_Validation_Url"}]}]},"global_headers":{},"global_headers_remove":["soapaction"],"global_size_limit":0,"override_target":""}}},"uptime_tests":{"check_list":[],"config":{"expire_utime_after":0,"service_discovery":{"use_discovery_service":false,"query_endpoint":"","use_nested_query":false,"parent_data_path":"","data_path":"","port_data_path":"","target_path":"","use_target_list":false,"cache_timeout":60,"endpoint_returns_list":false},"recheck_wait":0}},"proxy":{"preserve_host_header":false,"listen_path":"/app/callback/validation","target_url":"http://localhost#never-hits-this","disable_strip_slash":false,"strip_listen_path":false,"enable_load_balancing":false,"target_list":[],"check_host_against_uptime_tests":false,"service_discovery":{"use_discovery_service":false,"query_endpoint":"","use_nested_query":false,"parent_data_path":"","data_path":"","port_data_path":"","target_path":"","use_target_list":false,"cache_timeout":0,"endpoint_returns_list":false},"transport":{"ssl_insecure_skip_verify":false,"ssl_ciphers":[],"ssl_min_version":0,"proxy_url":""}},"disable_rate_limit":false,"disable_quota":false,"custom_middleware":{"pre":[{"name":"pre_c2b_async","path":"/etc/tyk-gateway/middleware/mpesa/pre_c2b_async.js","require_session":false,"raw_body_only":false}],"post":[],"post_key_auth":[],"auth_check":{"name":"","path":"","require_session":false,"raw_body_only":false},"response":[],"driver":"","id_extractor":{"extract_from":"","extract_with":"","extractor_config":{}}},"custom_middleware_bundle":"","cache_options":{"cache_timeout":60,"enable_cache":true,"cache_all_safe_requests":false,"cache_response_codes":[],"enable_upstream_cache_control":false,"cache_control_ttl_header":""},"session_lifetime":0,"active":true,"internal":false,"auth_provider":{"name":"","storage_engine":"","meta":{}},"session_provider":{"name":"","storage_engine":"","meta":{}},"event_handlers":{"events":{}},"enable_batch_request_support":false,"enable_ip_whitelisting":false,"allowed_ips":[],"enable_ip_blacklisting":false,"blacklisted_ips":[],"dont_set_quota_on_create":false,"expire_analytics_after":0,"response_processors":[{"name":"header_injector","options":{}},{"name":"response_body_transform","options":{}}],"CORS":{"enable":false,"allowed_origins":[],"allowed_methods":[],"allowed_headers":[],"exposed_headers":[],"allow_credentials":false,"max_age":24,"options_passthrough":false,"debug":false},"domain":"","certificates":[],"do_not_track":false,"tags":[],"enable_context_vars":true,"config_data":{"app_ids":{"1002":{"headers":{"Accept":"application/vnd.api+json","Content-Type":"application/vnd.api+json"},"name":"Responses test app","urls":{"balance_check":{"method":"POST","url":"https://dev.url:port/query"},"confirmation":{"method":"PATCH","url":"http://www.mocky.io/v2/5d8b72d43500002de7d47017"},"payout":{"method":"PATCH","url":"http://www.mocky.io/v2/5d8b7284350000e004d47010"},"reversal":{"method":"PATCH","url":"https://dev.url:port/payins/reversals"},"timeout":{"method":"POST","url":"https://dev.url:port/timeout"},"transaction_status":{"method":"POST","url":"https://dev.url:port/query"},"validation":{"method":"POST","url":"http://www.mocky.io/v2/5d8b7284350000e004d47010"}}},"1003":{"headers":{"Accept":"application/vnd.api+json","Content-Type":"application/vnd.api+json"},"name":"Responses test app - semantics","urls":{"balance_check":{"method":"POST","url":"https://dev.url:port/query"},"confirmation":{"method":"PATCH","url":"https://dev.url:port/timeout"},"payout":{"method":"PATCH","url":"http://www.mocky.io/v2/5d8b738f3500003593d47020"},"reversal":{"method":"PATCH","url":"https://dev.url:port/payins/reversals"},"timeout":{"method":"POST","url":"https://dev.url:port/timeout"},"transaction_status":{"method":"POST","url":"https://dev.url:port/query"},"validation":{"method":"POST","url":"http://www.mocky.io/v2/5d8b75a2350000e004d47035"}}},"284":{"name":"testc2bapp","urls":{"confirmation":{"url":"https://test-confirmations.free.beeceptor.com"},"validation":{"url":"https://test-validations.free.beeceptor.com"}}},"521":{"name":"test601000","urls":{"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"},"validation":{"url":"https://validation-601000.free.beeceptor.com"}}},"536":{"name":"testng601","short_code":601000,"urls":{"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"},"validation":{"url":"https://validation-601000.free.beeceptor.com"}}},"54":{"name":"test107038","short_code":107038,"urls":{"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"},"validation":{"url":"https://validation-601000.free.beeceptor.com"}}},"565":{"name":"testc2bapp","urls":{"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"},"validation":{"url":"https://validation-601000.free.beeceptor.com"}}},"57":{"headers":{"Accept":"application/vnd.api+json","Content-Type":"application/vnd.api+json"},"name":"error app","urls":{"payout":{"method":"PATCH","url":"https://www.mocky.io/v2/5d853c333200002a0007b1e9"},"validation":{"method":"POST","url":"http://www.mocky.io/v2/5da01da8300000d863524b12"}}},"595":{"name":"testc2bapp","urls":{"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"},"validation":{"url":"https://validation-601000.free.beeceptor.com"}}},"74":{"headers":{"Accept":"application/vnd.api+json","Content-Type":"application/vnd.api+json"},"name":"Test App","urls":{"balance_check":{"method":"POST","url":"https://dev.url:port/query"},"confirmation":{"method":"PATCH","url":"http://www.mocky.io/v2/5d862f91320000b55707b378"},"payout":{"method":"PATCH","url":"http://www.mocky.io/v2/5d862d23320000347507b370"},"reversal":{"method":"PATCH","url":"https://dev.url:port/payins/reversals"},"timeout":{"method":"POST","url":"https://dev.url:port/timeout"},"transaction_status":{"method":"POST","url":"https://dev.url:port/query"},"validation":{"method":"POST","url":"http://www.mocky.io/v2/5d862f91320000b55707b378"}}},"793":{"name":"testng601","short_code":601000,"urls":{"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"},"validation":{"url":"https://validation-601000.free.beeceptor.com"}}},"822":{"name":"testc2bapp","urls":{"confirmation":{"url":"https://test-confirmations.free.beeceptor.com"},"validation":{"url":"https://test-validations.free.beeceptor.com"}}},"982":{"name":"testc2bapp","urls":{"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"},"validation":{"url":"https://validation-601000.free.beeceptor.com"}}},"974":{"name":"testing60100","short_code":601000,"urls":{"validation":{"url":"https://validation-601000.free.beeceptor.com"},"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"}}},"401":{"name":"tester","short_code":601000,"urls":{"validation":{"url":"https://validation-601000.free.beeceptor.com"},"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"}}},"904":{"name":"tester","short_code":601000,"urls":{"validation":{"url":"https://validation-601000.free.beeceptor.com"},"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"}}},"665":{"name":"mel-test","short_code":601000,"urls":{"validation":{"url":"https://validation-601000.free.beeceptor.com"},"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"}}},"642":{"name":"mel-test","short_code":601000,"urls":{"validation":{"url":"https://validation-601000.free.beeceptor.com"},"confirmation":{"url":"https://confirmation-601000.free.beeceptor.com"}}}}},"tag_headers":["x-app-id"],"global_rate_limit":{"rate":0,"per":0},"strip_auth_data":true}